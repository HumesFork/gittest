"use strict";(self["webpackChunkmall_management"]=self["webpackChunkmall_management"]||[]).push([[46],{8046:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"top"}},[a("div",[a("span",[e._v("微信号")]),a("el-input",{staticClass:"search",attrs:{placeholder:"请输入",size:"mini"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),a("span",[e._v("关联书籍")]),a("el-input",{staticClass:"search",attrs:{placeholder:"请输入",size:"mini"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),a("span",{staticStyle:{"margin-right":"10px"}},[e._v("打卡日期")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("打卡内容")]),a("el-input",{staticClass:"search",attrs:{placeholder:"请输入",size:"mini"},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}}),a("el-button-group",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("搜索")]),a("el-button",{attrs:{size:"mini"},on:{click:e.resetTable}},[e._v("重置")])],1)],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%","text-align":"center","line-height":"18px"},attrs:{data:e.tableData,size:"small",border:"",height:e.height-130}},[a("el-table-column",{attrs:{label:"用户",align:"center",prop:"username",width:"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"openid",align:"center",prop:"openid",width:"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"内容",align:"center",prop:"content","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"图片",align:"center",prop:"url","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"关联书籍",align:"center",width:"150",prop:"bookId"}}),a("el-table-column",{attrs:{label:"打卡心情 ",align:"center",prop:"moodName",width:"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"打卡日期",align:"center",prop:"date","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(new Date(a.date).toLocaleString())+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("i",{staticClass:"el-icon-delete",staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.handleDelete(l)}}})]}}])}),a("template",{slot:"empty"},[a("div",[a("i",{staticClass:"iconfont iconzanwuziyuan",staticStyle:{"font-size":"40px",color:"#8c8c8c"}},[a("p",{staticStyle:{"font-size":"14px","margin-top":"-30px"}},[e._v("暂无资源")])])])])],2),a("el-pagination",{staticStyle:{float:"right","margin-top":"20px"},attrs:{"current-page":e.currentPage,"page-sizes":[20,100,150,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],i={name:"data_cop",components:{},props:{height:{type:Number}},data(){return{loading:!1,currentPage:1,pageSize:20,total:0,searchContent:"",searchType:"",tableData:[],moods:[],dateValue:""}},watch:{},created(){},mounted(){this.getData()},methods:{getData(){this.$reqPost("/community/data",{limit:this.pageSize,currentPage:this.currentPage,searchContent:this.searchContent}).then((e=>{200==e.code?this.tableData=e.data:this.$message.error(e.msg)}))},handleDelete(e){this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then((()=>{let t=e.id;this.$reqPost("/community/delData",{id:t}).then((e=>{200==e.code?this.getData():this.$message.error(e.msg)}))}))},handleSizeChange(e){this.pageSize=e},handleCurrentChange(e){this.currentPage=e},handleSelectionChange(e){console.log(e)},search(){this.getData()},resetTable(){this.searchContent=null,this.currentPage=1,this.pageSize=20,this.getData()}}},r=i,o=a(43736),s=(0,o.Z)(r,l,n,!1,null,"0c87d9a5",null),c=s.exports}}]);
//# sourceMappingURL=46.eac95c39.js.map